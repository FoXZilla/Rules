<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>The Rules, one of timeline base on short-night engine.</title>
</head>
<body>
    <div id="app"></div>
    <script src="rules.js"></script>
    <script>
        const events = [{
            date: '2017-5',
            title: 'Axis docs 1',
            endDate: '2017-8',
            endText: 'The axis can avoid for each others',
        }, {
            date: '2017-6',
            title: 'Axis docs 2',
            endDate: '2017-9-1',
            endText: 'End point is 2017.9',
        }, {
            date: '2017-9-1',
            title: 'Start of 2017.9',
        }, {
            date: '2017-1-2',
            title: 'Near the milestone',
        }, {
            date: '2016-12-15',
            endDate: '2017-2',
            title: 'Near the milestone',
            description: 'The date of end is 2017.2.',
        }, {
            date: '2018-8-15',
            title: 'Close together 1',
        }, {
            date: '2018-8-1',
            title: 'Close together 2',
        }, {
            date: '2018-7-15',
            title: 'Close together 3',
            description: 'The event description.',
            endDate: '2018-8-15',
            endText: 'End point is 2018-8-15',
        }, {
            date: '2018-7-1',
            title: 'Close together 4',
            description: 'The event description.',
        }, {
            date: '2016-8-12',
            title: 'Close together 5',
            description: 'The event description. The event description. The event description.' +
                ' The event description. The event description.',
        }, {
            date: '2016-8-15',
            title: 'Close together 6',
            description: 'The event description. The event description. The event description. ' +
                'The event description. The event description.',
        }, {
            date: '2018-4-2',
            title: 'A event which title is very very very very very very very very very very long',
        }, {
            date: '2018-3-9',
            title: '39s Day two years!',
        }, {
            date: '2017-3-9',
            title: '39s Day one years!',
        }, {
            date: '2016-3-9',
            title: '39s Day!',
            description: 'In japan and chinese, the pronunciation  of 39 is very like "Thank You". ' +
                'So some people call as Giving Day.',
        }];

        (async function () {
            while (true) {
                const timeline = await Rules.draw('#app', events);

                await new Promise(r => setTimeout(r, 5000));

                await Rules.draw('#app', timeline.export());

                await new Promise(r => setTimeout(r, 5000));

                await Rules.drawWithAnimation('#app', events);
            }
        })();
    </script>
</body>
</html>